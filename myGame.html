<!doctype html>
<html>

<head>
    <title>Frogger</title>
</head>

<body>
    <canvas id="gameCanvas" width="600" height="600"></canvas>

    <script>
        var canvas, canvasContext, imgAssets;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');
            imgAssets = loadImgAssets();

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainLoop, 1000 / 50);
        }

        var frogXpos = 0;
        var frogYpos = 0;
        var frogYspeed = 5;
        var frogXspeed = 5;
        const FROG_SIZE = 60;

        const UP_ARROW_KEY = 38;
        const DOWN_ARROW_KEY = 40;
        const LEFT_ARROW_KEY = 37;
        const RIGHT_ARROW_KEY = 39;

        var upArrowKeyPressed = false;
        var downArrowKeyPressed = false;
        var rightArrowKeyPressed = false;
        var leftArrowKeyPressed = false;

        var starting = true;

        function mainLoop() {
            colorRect(0, 0, canvas.width, canvas.height, 'black'); // background
            drawingImages(img.bg, 0, 0, canvas.width, canvas.height);
            drawingImages(img.player, frogXpos, frogYpos, FROG_SIZE, FROG_SIZE);


            if (starting) {
                startPos();
                starting = false;

            }
            frogMove();
        }



        function keyPressed(evt) {
            if (evt.keyCode == UP_ARROW_KEY) {
                upArrowKeyPressed = true;
            }
            if (evt.keyCode == DOWN_ARROW_KEY) {
                downArrowKeyPressed = true;
            }

            if (evt.keyCode == LEFT_ARROW_KEY) {
                leftArrowKeyPressed = true;
            }
            if (evt.keyCode == RIGHT_ARROW_KEY) {
                rightArrowKeyPressed = true;
            }
        }



        function keyReleased(evt) {
            if (evt.keyCode == UP_ARROW_KEY) {
                upArrowKeyPressed = false;
            }
            if (evt.keyCode == DOWN_ARROW_KEY) {
                downArrowKeyPressed = false;
            }

            if (evt.keyCode == LEFT_ARROW_KEY) {
                leftArrowKeyPressed = false;
            }
            if (evt.keyCode == RIGHT_ARROW_KEY) {
                rightArrowKeyPressed = false;
            }
        }


        function frogMove() {
            if (upArrowKeyPressed) {
                frogYpos -= frogYspeed;
                if (frogYpos < 0) {
                    frogYpos = canvas.height - FROG_SIZE;
                    //                    score++
                }
            }

            if (downArrowKeyPressed) {
                frogYpos += frogYspeed;
            }

            if (rightArrowKeyPressed) {
                frogXpos += frogXspeed;
            }

            if (leftArrowKeyPressed) {
                frogXpos -= frogXspeed;
            }
        }


        function loadImgAssets() {
            img = {};
            img.bg = new Image();
            img.bg.src = 'Images/froggerCrossing.png'
            img.player = new Image();
            img.player.src = 'Images/frogger.png'

            return img;
        }

        function startPos() {
            frogXpos = canvas.width / 2 - FROG_SIZE / 2;
            frogYpos = canvas.height - FROG_SIZE;
        }


        function drawingImages(image, dx, dy, dWidth, dHeight) {
            canvasContext.drawImage(image, dx, dy, dWidth, dHeight)
        }

        function colorRect(x, y, w, h, color) {
            canvasContext.fillStyle = color;
            canvasContext.fillRect(x, y, w, h);
        }

    </script>
</body>

</html>
